<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login do Aluno</title>
  <link rel="stylesheet" href="/stylesheets/login.css">
  
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  
  <!-- Firebase Configuration -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDIy_7tZspi_QeI2Xk2K76ie_5ZarpfsFY",
      authDomain: "sisram2025.firebaseapp.com",
      projectId: "sisram2025",
      storageBucket: "sisram2025.firebasestorage.app",
      messagingSenderId: "731058106651",
      appId: "1:731058106651:web:fc6d4d4936bda7096c18fe",
      measurementId: "G-JZBE8RY29Y"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
  </script>
</head>
<body>
  <header>
    <img src="/images/logo.png" alt="Logo" class="logo">
    <div>
      <a href="#">Saiba Como Ingressar</a>
      <a href="#">Serviços</a>
      <a href="#">Contatos</a>
    </div>
  </header>

  <section>
    <div class="login-form">
      <h3>Login do Aluno</h3>
      <!-- Google Sign-in button only -->
      <button onclick="signInWithGoogle()" class="google-btn">
        <img src="https://www.google.com/images/branding/googleg/1x/googleg_standard_color_128dp.png" alt="Google Icon"> Login com Google
      </button>
    </div>
  </section>

  <footer>
    <p>2025 - <strong>ETE Ginásio Pernambucano.</strong> Todos os Direitos Reservados. Entrem em contato pelo <a href="https://www.instagram.com/garra_inc_technology/">@garra_inc_technology</a></p>
  </footer>

  <!-- Authentication Scripts -->
    <!-- Authentication Scripts -->
    <script>
      // Google Sign-in function
      function signInWithGoogle() {
        const provider = new firebase.auth.GoogleAuthProvider();
        
        // Optional: Force account selection even when one account is available
        provider.setCustomParameters({ prompt: 'select_account' });
        
        firebase.auth().signInWithPopup(provider)
          .then((result) => {
            // User signed in successfully
            const user = result.user;
            console.log("Usuário logado:", user.email);
            // Updated to use the full Railway URL
            window.location.href = "https://sisram2025-production.up.railway.app/enviardocs_aluno";
          })
          .catch((error) => {
            // Handle errors
            console.error("Erro no login:", error);
            alert("Erro ao fazer login com Google: " + error.message);
          });
      }
    </script>
</body>
</html>